"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var application = require("application");
if (application.android) {
    application.mainModule = "entry-page";
}
else {
    application.mainModule = "main-page";
}
application.cssFile = "./app.css";
/***
 * Creates a performance.now() function
 */
if (!global.performance) {
    global.performance = {};
}
if (!global.performance.now) {
    if (application.android) {
        global.performance.now = function () {
            return java.lang.System.nanoTime() / 1000000;
        };
    }
    else if (application.ios) {
        global.performance.now = function () {
            return CACurrentMediaTime() * 1000;
        };
    }
}
var AppViewModel_1 = require("./components/common/AppViewModel");
var nativescript_urlhandler_1 = require("@speigg/nativescript-urlhandler");
nativescript_urlhandler_1.handleOpenURL(function (appURL) {
    if (!appURL)
        return;
    AppViewModel_1.appViewModel.ready.then(function () {
        console.log('Received url request: ' + appURL);
        var urlValue = appURL.params.get('url');
        if (urlValue) {
            AppViewModel_1.appViewModel.openUrl(decodeURIComponent(urlValue));
        }
        else {
            var url = 'https://' + appURL.path;
            AppViewModel_1.appViewModel.openUrl(url);
        }
    });
});
application.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEseUNBQTRDO0FBQzVDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLFdBQVcsQ0FBQyxVQUFVLEdBQUcsWUFBWSxDQUFBO0FBQ3pDLENBQUM7QUFBQyxJQUFJLENBQUMsQ0FBQztJQUNKLFdBQVcsQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFBO0FBQ3hDLENBQUM7QUFDRCxXQUFXLENBQUMsT0FBTyxHQUFHLFdBQVcsQ0FBQztBQUVsQzs7R0FFRztBQUNILEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDdEIsTUFBTSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDNUIsQ0FBQztBQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzFCLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxHQUFHO1lBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFDakQsQ0FBQyxDQUFDO0lBQ04sQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6QixNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRztZQUNyQixNQUFNLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDdkMsQ0FBQyxDQUFDO0lBQ04sQ0FBQztBQUNMLENBQUM7QUFFRCxpRUFBZ0U7QUFDaEUsMkVBQXdFO0FBQ3hFLHVDQUFhLENBQUMsVUFBQyxNQUFjO0lBQ3pCLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQUMsTUFBTSxDQUFDO0lBQ3BCLDJCQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDWCwyQkFBWSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLElBQU0sR0FBRyxHQUFHLFVBQVUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ3JDLDJCQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzlCLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDO0FBRUgsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFwcGxpY2F0aW9uID0gcmVxdWlyZShcImFwcGxpY2F0aW9uXCIpO1xuaWYgKGFwcGxpY2F0aW9uLmFuZHJvaWQpIHtcbiAgICBhcHBsaWNhdGlvbi5tYWluTW9kdWxlID0gXCJlbnRyeS1wYWdlXCJcbn0gZWxzZSB7XG4gICAgYXBwbGljYXRpb24ubWFpbk1vZHVsZSA9IFwibWFpbi1wYWdlXCJcbn1cbmFwcGxpY2F0aW9uLmNzc0ZpbGUgPSBcIi4vYXBwLmNzc1wiO1xuXG4vKioqXG4gKiBDcmVhdGVzIGEgcGVyZm9ybWFuY2Uubm93KCkgZnVuY3Rpb25cbiAqL1xuaWYgKCFnbG9iYWwucGVyZm9ybWFuY2UpIHtcbiAgICBnbG9iYWwucGVyZm9ybWFuY2UgPSB7fTtcbn1cbmlmICghZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykge1xuICAgIGlmIChhcHBsaWNhdGlvbi5hbmRyb2lkKSB7XG4gICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gamF2YS5sYW5nLlN5c3RlbS5uYW5vVGltZSgpIC8gMTAwMDAwMDtcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGFwcGxpY2F0aW9uLmlvcykge1xuICAgICAgICBnbG9iYWwucGVyZm9ybWFuY2Uubm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gQ0FDdXJyZW50TWVkaWFUaW1lKCkgKiAxMDAwO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuaW1wb3J0IHsgYXBwVmlld01vZGVsIH0gZnJvbSAnLi9jb21wb25lbnRzL2NvbW1vbi9BcHBWaWV3TW9kZWwnO1xuaW1wb3J0IHsgaGFuZGxlT3BlblVSTCwgQXBwVVJMIH0gZnJvbSAnQHNwZWlnZy9uYXRpdmVzY3JpcHQtdXJsaGFuZGxlcic7XG5oYW5kbGVPcGVuVVJMKChhcHBVUkw6IEFwcFVSTCkgPT4ge1xuICAgIGlmICghYXBwVVJMKSByZXR1cm47XG4gICAgYXBwVmlld01vZGVsLnJlYWR5LnRoZW4oKCk9PntcbiAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIHVybCByZXF1ZXN0OiAnICsgYXBwVVJMKTtcbiAgICAgICAgY29uc3QgdXJsVmFsdWUgPSBhcHBVUkwucGFyYW1zLmdldCgndXJsJyk7XG4gICAgICAgIGlmICh1cmxWYWx1ZSkge1xuICAgICAgICAgICAgYXBwVmlld01vZGVsLm9wZW5VcmwoZGVjb2RlVVJJQ29tcG9uZW50KHVybFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly8nICsgYXBwVVJMLnBhdGg7XG4gICAgICAgICAgICBhcHBWaWV3TW9kZWwub3BlblVybCh1cmwpO1xuICAgICAgICB9XG4gICAgfSk7XG59KTtcblxuYXBwbGljYXRpb24uc3RhcnQoKTtcbiJdfQ==